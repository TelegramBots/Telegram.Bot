trigger: none

pr:
  branches:
    exclude:
      - master
      - develop
      - gh-pages
  paths:
    exclude:
      - ".github/"
      - docs/
      - README.md
      - CHANGELOG.md
      - CONTRIBUTING.md

variables:
  - template: variables.yml

stages:
  - stage: UnitTest
    displayName: ðŸ§ª Unit test
    jobs:
      - template: jobs/run-unit-tests.yml
        parameters:
          buildConfiguration: $(buildConfiguration)
          projects: $(unitTestsProject)
          strategies:
            - Ubuntu: ubuntu-18.04
  - stage: IntegrationTests
    displayName: ðŸ§ª Integreation tests
    jobs:
      - template: jobs/run-integration-tests.yml
        parameters:
          vmImage: $(vmImage)
          buildConfiguration: $(buildConfiguration)
          projects: $(integrationTestsProject)
          arguments: --filter "Category!=Interactive"
